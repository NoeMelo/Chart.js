
var randomScalingFactor = function() {
    return Math.round(Math.random() * 100);
};

// ADD FUNCTIONS
function addData(chart, label, data) {
    chart.data.labels.push(label);
    chart.data.datasets.forEach((dataset) => {
        dataset.data.push(data);
    });
    chart.update();
    //updateCopy();
}
 function addLabels(chart, label_x){
   for (var i = 0; i < label_x.length; i++) {
    chart.data.labels.push(label_x[i]);
   }
  chart.update();
  //updateCopy();
 }
function addDataSet(chart, config, data, serieName){ //label, data
  var colorName = colorNames[config.data.datasets.length % colorNames.length];
  var newColor = window.chartColors[colorName];
  console.log(colorName);

  var newDataset = {
        label: serieName,  // 'Dataset ' + config.data.datasets.length,
        backgroundColor: newColor,
        borderColor: newColor.replace("0.2","1"),
        data: []
      };

    for (var index = 0; index < config.data.labels.length; ++index) {//data
      newDataset.data.push(data[index]);
    }

    config.data.datasets.push(newDataset);
    chart.update();
    //updateCopy();
}
//REMOVE FUNCTIONS
function removeDataLabel(chart) {
    chart.data.labels.pop();
    chart.data.datasets.forEach((dataset) => {
        dataset.data.pop();
    });
    chart.update();
}
function removeAllDataSet(chart, config){
  config.data.datasets.splice(0, config.data.labels.length+1);
  chart.update();
}

function removeLabels(chart){
  i = chart.data.labels.length;
  for (let index = 0; index < i; index++) {
    chart.data.labels.pop();
  }
  chart.update();
}
//generate dataset
function geneData(labels){
  var data=[];

  for (let index = 0; index < labels.length; index++) {
    data.push(randomScalingFactor());
  }

  return data;
}
//Colors Config
window.chartColors = {
  sea_green: 'rgb(46,139,87,0.2)',
  chocolate:'rgb(210,105,30,0.2)',
  sandy_brown:'rgb(244,164,96,0.2)',
  dark_slate_blue:'rgb(72,61,139,0.2)',
  blue_violet:'rgb(138,43,226,0.2)',
  navy:'rgb(0,0,128,0.2)',
  teal:'rgb(0,128,128,0.2)',
  red: 'rgb(255, 99, 132, 0.2)',
  orange: 'rgb(255, 159, 64, 0.2)',
  yellow: 'rgb(255, 205, 86, 0.2)',
  green: 'rgb(75, 192, 192, 0.2)',
  blue: 'rgb(54, 162, 235, 0.2)',
  purple: 'rgb(153, 102, 255, 0.2)',
  // grey: 'rgb(231,233,237, 0.2)',
  indian_red:'rgb(205,92,92,0.2)'
};
var colorNames = Object.keys(window.chartColors);

//object config
var config = {
type: 'line',
data:{
  labels:[],
  datasets:[
  //   {
  //   label:"Amazon",
  //   backgroundColor: 'rgba(54, 162, 235, 0.2)',//'rgb(17, 122, 101,.5)',
  //   borderColor:'rgba(54, 162, 235, 1)',
  //   data:[
  //     randomScalingFactor(),
  //     randomScalingFactor(),
  //     randomScalingFactor(),
  //     randomScalingFactor(),
  //     randomScalingFactor(),
  //     randomScalingFactor(),
  //     randomScalingFactor(),
  //     randomScalingFactor(),
  //     randomScalingFactor(),
  //     randomScalingFactor(),
  //     randomScalingFactor(),
  //     randomScalingFactor()
  //   ]
  // }
]
},

options: {
  title: {
    display: true,
    text: 'Ventas Mensuales',
    fontStyle:'bold',
    fontSize: 15,
  },
  maintainAspectRatio: true,
  legend: {
  display: true
  },
  responsive: true,
  scales: {
    xAxes: [{
      gridLines: {
        display:true,
        drawOnChartArea: true,
        drawBorder:true,
      },
      scaleLabel: {
      display: true,
      labelString: 'Months',
      // fontSize:15,
      fontFamily:'sans-serif',
      fontStyle:'blond'
      }
    }],
    yAxes: [{
      ticks: {
        // beginAtZero: true,
        // maxTicksLimit: 5,
        // stepSize: Math.ceil(250 / 5),
        // max: 250
      },
      gridLines: {
        display: true
      },
      scaleLabel: {
      display: true,
      labelString: 'Values',
      // fontSize:15,
      fontFamily:'sans-serif',
      fontStyle:'blond'
      }
    }]
  },
  elements: {
    point: {
      radius: 0,
      hitRadius: 10,
      hoverRadius: 4,
      hoverBorderWidth: 3
    }
  }
}
}

//copia de data
var copydata = [];
var copylabels = [];

function updateCopy() {
  copydata = [];
  copylabels = [];
  for (let index = 0; index < myLineChart.data.datasets.length; index++) {
    const element = myLineChart.data.datasets[index];
    
    var serie = {
      data:[],
      serieName:""
    };
  
    for (let i = 0; i < element.data.length; i++) {
      const el = element.data[i];
      serie.data.push(el); 
    }
    serie.serieName = element.label;
  
    copydata.push(serie);
  }
  
  for (let index = 0; index < myLineChart.data.labels.length; index++) {
    const element = myLineChart.data.labels[index];
    copylabels.push(element);
  }
  console.log(copydata);
  console.log(copylabels);  
}

//ZOOM
function zoomSerie(chart, config, copydata, labels,n){
  var fin = labels.length;
  var ini = fin - n;
  
  var newLabels = labels.slice(ini,fin);
  console.log(newLabels);
  removeAllDataSet(chart,config);
  removeLabels(chart);

  addLabels(chart, newLabels);

  for (let index = 0; index < copydata.length; index++) {
    const element = copydata[index];
    addDataSet(chart, config, element.data.slice(ini,fin+1), element.serieName); 
  }
}
//RESET
function resetSerie(chart, config){
  removeAllDataSet(chart,config);
  removeLabels(chart);

  addLabels(chart,copylabels);
  for (let index = 0; index < copydata.length; index++) {
    const element = copydata[index];
    addDataSet(chart, config, element.data, element.serieName); 
  }
}




var ctx = document.getElementById('lineChart').getContext("2d");

//CREATE THE OBJECT
var myLineChart = new Chart(ctx,config);
//console.log(myLineChart);

var LABELS_X = ['Enero',"Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto", "Septiembre", "Octubre","Noviembre", "Diciembre"]

// document.getElementById('option6').addEventListener('click', function() {
//   addData(myLineChart,('A'+randomScalingFactor()),randomScalingFactor());
// });
// document.getElementById('option5').addEventListener('click', function() {
//   removeDataLabel(myLineChart);
// });
// document.getElementById('option4').addEventListener('click', function() {
//   addDataSet(myLineChart, config, geneData(LABELS_X), ('Data'+randomScalingFactor()));
// });
// document.getElementById('option3').addEventListener('click', function() {
//   addLabels(myLineChart, LABELS_X);
// });

// document.getElementById("download").addEventListener('click', function(){
//   var url_base64jp = document.getElementById("lineChart").toDataURL("image/jpg");
//   // document.getElementById("img1").src = url_base64jp;
//   var a =  document.getElementById("download");
//   a.href = url_base64jp;
// });

function limpiarButtons(){
  document.getElementById("zoom_max").className = "btn btn-info";
  document.getElementById("zoom_1").className = "btn btn-info";
  document.getElementById("zoom_2").className = "btn btn-info";
  document.getElementById("zoom_3").className = "btn btn-info";
  document.getElementById("zoom_4").className = "btn btn-info";
  document.getElementById("zoom_5").className = "btn btn-info";
}


document.getElementById("maximo").addEventListener('click', function(){
  resetSerie(myLineChart,config);
  //validate
  limpiarButtons();
  document.getElementById("zoom_max").className = "btn btn-info active";
});
document.getElementById("option5").addEventListener('click', function(){
  zoomSerie(myLineChart,config,copydata,copylabels,10*12);
  //validate
  limpiarButtons();
  document.getElementById("zoom_5").className = "btn btn-info active";
});
document.getElementById("option4").addEventListener('click', function(){
  zoomSerie(myLineChart,config,copydata,copylabels,8*12);
  //validate
  limpiarButtons();
  document.getElementById("zoom_4").className = "btn btn-info active";
});
document.getElementById("option3").addEventListener('click', function(){
  zoomSerie(myLineChart,config,copydata,copylabels,12);
  //validate
  limpiarButtons();
  document.getElementById("zoom_3").className = "btn btn-info active";
});
document.getElementById("option2").addEventListener('click', function(){
  zoomSerie(myLineChart,config,copydata,copylabels,6);
  //validate
  limpiarButtons();
  document.getElementById("zoom_2").className = "btn btn-info active";
});
document.getElementById("option1").addEventListener('click', function(){
  zoomSerie(myLineChart,config,copydata,copylabels,3);
  //validate
  limpiarButtons();
  document.getElementById("zoom_1").className = "btn btn-info active";
});

//Download Chart Image
document.getElementById("download").addEventListener('click', function(){
  var url_base64jp = document.getElementById("lineChart").toDataURL("image/jpg");
  var a =  document.getElementById("download");
  a.href = url_base64jp;
});


//====data===
var label_array = [
  'Ene92',
  'Feb92',
  'Mar92',
  'Abr92',
  'May92',
  'Jun92',
  'Jul92',
  'Ago92',
  'Sep92',
  'Oct92',
  'Nov92',
  'Dic92',
  'Ene93',
  'Feb93',
  'Mar93',
  'Abr93',
  'May93',
  'Jun93',
  'Jul93',
  'Ago93',
  'Sep93',
  'Oct93',
  'Nov93',
  'Dic93',
  'Ene94',
  'Feb94',
  'Mar94',
  'Abr94',
  'May94',
  'Jun94',
  'Jul94',
  'Ago94',
  'Sep94',
  'Oct94',
  'Nov94',
  'Dic94',
  'Ene95',
  'Feb95',
  'Mar95',
  'Abr95',
  'May95',
  'Jun95',
  'Jul95',
  'Ago95',
  'Sep95',
  'Oct95',
  'Nov95',
  'Dic95',
  'Ene96',
  'Feb96',
  'Mar96',
  'Abr96',
  'May96',
  'Jun96',
  'Jul96',
  'Ago96',
  'Sep96',
  'Oct96',
  'Nov96',
  'Dic96',
  'Ene97',
  'Feb97',
  'Mar97',
  'Abr97',
  'May97',
  'Jun97',
  'Jul97',
  'Ago97',
  'Sep97',
  'Oct97',
  'Nov97',
  'Dic97',
  'Ene98',
  'Feb98',
  'Mar98',
  'Abr98',
  'May98',
  'Jun98',
  'Jul98',
  'Ago98',
  'Sep98',
  'Oct98',
  'Nov98',
  'Dic98',
  'Ene99',
  'Feb99',
  'Mar99',
  'Abr99',
  'May99',
  'Jun99',
  'Jul99',
  'Ago99',
  'Sep99',
  'Oct99',
  'Nov99',
  'Dic99',
  'Ene00',
  'Feb00',
  'Mar00',
  'Abr00',
  'May00',
  'Jun00',
  'Jul00',
  'Ago00',
  'Sep00',
  'Oct00',
  'Nov00',
  'Dic00',
  'Ene01',
  'Feb01',
  'Mar01',
  'Abr01',
  'May01',
  'Jun01',
  'Jul01',
  'Ago01',
  'Sep01',
  'Oct01',
  'Nov01',
  'Dic01',
  'Ene02',
  'Feb02',
  'Mar02',
  'Abr02',
  'May02',
  'Jun02',
  'Jul02',
  'Ago02',
  'Sep02',
  'Oct02',
  'Nov02',
  'Dic02',
  'Ene03',
  'Feb03',
  'Mar03',
  'Abr03',
  'May03',
  'Jun03',
  'Jul03',
  'Ago03',
  'Sep03',
  'Oct03',
  'Nov03',
  'Dic03',
  'Ene04',
  'Feb04',
  'Mar04',
  'Abr04',
  'May04',
  'Jun04',
  'Jul04',
  'Ago04',
  'Sep04',
  'Oct04',
  'Nov04',
  'Dic04',
  'Ene05',
  'Feb05',
  'Mar05',
  'Abr05',
  'May05',
  'Jun05',
  'Jul05',
  'Ago05',
  'Sep05',
  'Oct05',
  'Nov05',
  'Dic05',
  'Ene06',
  'Feb06',
  'Mar06',
  'Abr06',
  'May06',
  'Jun06',
  'Jul06',
  'Ago06',
  'Sep06',
  'Oct06',
  'Nov06',
  'Dic06',
  'Ene07',
  'Feb07',
  'Mar07',
  'Abr07',
  'May07',
  'Jun07',
  'Jul07',
  'Ago07',
  'Sep07',
  'Oct07',
  'Nov07',
  'Dic07',
  'Ene08',
  'Feb08',
  'Mar08',
  'Abr08',
  'May08',
  'Jun08',
  'Jul08',
  'Ago08',
  'Sep08',
  'Oct08',
  'Nov08',
  'Dic08',
  'Ene09',
  'Feb09',
  'Mar09',
  'Abr09',
  'May09',
  'Jun09',
  'Jul09',
  'Ago09',
  'Sep09',
  'Oct09',
  'Nov09',
  'Dic09',
  'Ene10',
  'Feb10',
  'Mar10',
  'Abr10',
  'May10',
  'Jun10',
  'Jul10',
  'Ago10',
  'Sep10',
  'Oct10',
  'Nov10',
  'Dic10',
  'Ene11',
  'Feb11',
  'Mar11',
  'Abr11',
  'May11',
  'Jun11',
  'Jul11',
  'Ago11',
  'Sep11',
  'Oct11',
  'Nov11',
  'Dic11',
  'Ene12',
  'Feb12',
  'Mar12',
  'Abr12',
  'May12',
  'Jun12',
  'Jul12',
  'Ago12',
  'Sep12',
  'Oct12',
  'Nov12',
  'Dic12',
  'Ene13',
  'Feb13',
  'Mar13',
  'Abr13',
  'May13',
  'Jun13',
  'Jul13',
  'Ago13',
  'Sep13',
  'Oct13',
  'Nov13',
  'Dic13',
  'Ene14',
  'Feb14',
  'Mar14',
  'Abr14',
  'May14',
  'Jun14',
  'Jul14',
  'Ago14',
  'Sep14',
  'Oct14',
  'Nov14',
  'Dic14',
  'Ene15',
  'Feb15',
  'Mar15',
  'Abr15',
  'May15',
  'Jun15',
  'Jul15',
  'Ago15',
  'Sep15',
  'Oct15',
  'Nov15',
  'Dic15',
  'Ene16',
  'Feb16',
  'Mar16',
  'Abr16',
  'May16',
  'Jun16',
  'Jul16',
  'Ago16',
  'Sep16',
  'Oct16',
  'Nov16',
  'Dic16',
  'Ene17',
  'Feb17',
  'Mar17',
  'Abr17',
  'May17',
  'Jun17',
  'Jul17',
  'Ago17',
  'Sep17',
  'Oct17',
  'Nov17',
  'Dic17',
  'Ene18',
  'Feb18',
  'Mar18',
  'Abr18',
  'May18',
  'Jun18',
  'Jul18',
  'Ago18',
  'Sep18',
  'Oct18',
  'Nov18',
  'Dic18',
  'Ene19',
  'Feb19',
  'Mar19',
  'Abr19',
  'May19',
  'Jun19',
  'Jul19',
  'Ago19',
  'Sep19',
  'Oct19',
  'Nov19'
  ];
  
  var data_1 = [
  412.06716502,
  381.412660224,
  401.416077696,
  353.331869205,
  383.275365183,
  442.063183373,
  348.599571411,
  422.337137442,
  569.961579285,
  694.04265,
  615.65695625,
  523.502000056,
  673.357764726,
  678.783888756,
  771.882932392,
  835.446199934,
  788.379928487,
  724.022613783,
  446.638992037,
  546.088061442,
  409.644815022,
  418.821500055,
  540.39537784,
  561.24549999,
  384.0658913,
  233.804969552,
  -40.044695661,
  -192.240000003,
  -258.516038508,
  -194.890099996,
  -537.29799992,
  364.871999925,
  -60.49666,
  -299.273999902,
  -432.66300007,
  -490.027999916,
  -674.569999964,
  -917.100016,
  -1040.399999998,
  -819.729008,
  -831.753,
  -964.239001553,
  -1046.523142247,
  -1292.634,
  -1643.0990016,
  -1821.187006436,
  -2070.082001536,
  -1393.55019111,
  -1384.31093035,
  -1623.36961516,
  -1920.58093035,
  -2088.36929997,
  -2219.54772402,
  -2392.83109364,
  -2629.90846326,
  -2563.48846326,
  -2434.87188731,
  -2588.93699617,
  -3232.91668098,
  -2578.0780506,
  -2891.50878984,
  -2852.11147465,
  -2859.26647465,
  -3723.38415946,
  -3314.98784427,
  -3649.23147465,
  -4045.24415946,
  -4335.05147465,
  -3959.81147465,
  -4825.621583952,
  -5765.49826832,
  -6358.45826832,
  -6490.85369237,
  -7217.95843161,
  -7191.388430245,
  -7647.70280123,
  -8054.24185566,
  -8724.56864933,
  -8506.28364933,
  -9459.738812504,
  -8550.472182832,
  -8560.622237623,
  -8245.188975327,
  -6922.02571515,
  -6732.72441135,
  -6417.839574504,
  -5810.756042385,
  -5267.972725286,
  -4803.256040562,
  -4563.32704173,
  -3907.65004173,
  -3176.139466864,
  -3044.22185649,
  -2864.154126801,
  -2444.65412738,
  -2756.37564031,
  -2784.254126131,
  -2546.71110057,
  -2613.44336988,
  -2007.743370696,
  -2550.975641019,
  -2733.254125139,
  -2954.232611897,
  -2430.332613942,
  -2529.77564031,
  -2283.16964031,
  -2380.54615393,
  -2480.50163393,
  -2034.06226918,
  -1829.83058918,
  -2227.90165312,
  -1463.27181554,
  -1952.14511372,
  -1965.31669312,
  -2610.30573494,
  -2002.72720493999,
  -813.057348880001,
  -961.568790699992,
  -685.198884368,
  -972.07704464,
  -1055.914505232,
  -1249.40479593,
  -904.665615550005,
  -1140.74967517001,
  -1251.96824574,
  -1234.87667668999,
  -562.584707640003,
  -871.384838589988,
  -1367.00642916001,
  -1187.60726840001,
  44.8910533100006,
  514.77701331,
  614.736,
  68.9360000000005,
  389.629,
  59.285000126,
  561.86100005,
  553.837392682224,
  345.273492657645,
  343.540999999998,
  -142.610000000003,
  -106.927,
  119.137999999999,
  104.214000000001,
  -59.0710000000013,
  -576.3889998,
  -151.076,
  -472.948999999999,
  -797.563999783,
  -808.321000000002,
  -439.782000000002,
  -411.995000000001,
  -450.27208,
  20.1158799999999,
  -82.3859,
  -181.98752,
  -770.05764,
  -442.94924,
  -535.55932,
  68.2807000000002,
  -535.62925,
  -269.594,
  -782.13525,
  -421.68664,
  -140.25662,
  -171.10574,
  -178.92611,
  -543.31543,
  511.716219007366,
  769.08638301362,
  1132.34841999023,
  1385.35724262583,
  713.213497067453,
  1131.4459630384,
  1973.01347982369,
  1664.98316376261,
  1838.74640718884,
  1161.84834711821,
  781.1181954831,
  849.999461501641,
  671.084666266362,
  1097.95332359552,
  516.327591372931,
  -62.5499875903115,
  -1402.43260661394,
  -2407.51254395607,
  -2762.39737165505,
  -2092.86542576955,
  -3177.85071962278,
  -5254.0653628537,
  -5749.5219627639,
  -3784.70443320885,
  -3658.73212990611,
  -3741.39384679584,
  -4045.40419043345,
  -5303.89386665708,
  -4924.45023845244,
  -5346.56629411486,
  -4295.95838090483,
  -3923.60383975904,
  -3106.84845303399,
  1273.45262734498,
  -1045.49023980138,
  427.358738892364,
  120.757255466639,
  -130.637621039998,
  845.405976951031,
  1537.8851340559,
  1092.87302210952,
  1455.7682499924,
  2983.79490156647,
  2200.31328039897,
  1888.76344102589,
  -1043.43578690064,
  11.741270243443,
  578.736078802448,
  -2399.78189728983,
  -3152.68865980712,
  -2991.11719769789,
  -2961.97966288001,
  -2773.19941032584,
  -3022.10319603066,
  -7925.43913818956,
  -5546.31346068041,
  -3319.90992176286,
  449.273257592124,
  1892.70426623115,
  1884.53964444436,
  976.19214272,
  -3620.54958801,
  1921.6188992,
  3277.40368698,
  896.47392215,
  -2162.327244,
  -1900.62637788,
  -1281.90721932,
  -1077.43609977,
  1592.11247438,
  2569.5569547,
  806.440698,
  1371.58493831057,
  1884.79381162531,
  -1199.03020010421,
  -1857.73674606015,
  -1669.33636430357,
  -1687.10213551059,
  -239.965826267863,
  -1368.16883008105,
  -2054.87137565541,
  -2123.60671972566,
  -4002.2164151901,
  -4345.09150026101,
  -6174.33113888376,
  -6587.19836664868,
  -4597.3060453382,
  -2392.6781780258,
  -2047.08022314596,
  -2420.60150360328,
  668.952450930587,
  2261.65964619334,
  2363.63748623958,
  1607.58632507969,
  2081.31258617388,
  1889.80059242206,
  1916.09704535932,
  2783.30804739946,
  3783.82299430726,
  2661.50822880501,
  2097.82532609478,
  2446.07839437374,
  2.37339055469565,
  526.284735161082,
  -644.451976607017,
  513.597109907826,
  2564.30226443229,
  2078.43818256603,
  1040.12154,
  2174.08383,
  2109.8538,
  783.830249999999,
  930.03224,
  1769.1453,
  1721.66533,
  397.965959999999,
  -1192.7202,
  -2898.23009,
  -1826.98821,
  64.3978499999992,
  -533.151619999999,
  -1340.98272,
  -660.125880000001,
  -1701.51312,
  -1322.14873,
  -170.87273,
  -1876.06272,
  553.72599,
  -657.495400000001,
  504.016799999999,
  2362.45823,
  2042.68512,
  463.97568,
  463.369879999999,
  1021.10125,
  1175.10264,
  -904.367550000002,
  740.26875,
  919.780919999999,
  -1715.1426,
  -4405.16742,
  -1612.67925,
  -730.525870000001,
  1727.58096,
  521.71406,
  646.161339999999,
  -762.39628,
  -8.90824999999995,
  -171.710970000001,
  2946.01821,
  420.94056,
  -312.9324,
  3319.7505,
  382.946579999999,
  -826.48774,
  532.43641,
  69.0642000000008,
  372.698699999999,
  3991.13468,
  209.26151,
  -122.843240000001,
  -337.626380000001,
  1468.07106,
  -972.464599999999,
  -1825.46364,
  -2640.58055,
  -1020.7412,
  ];
  
  var data_2 = [
  70.43397087,
  68.781796115,
  73.694611654,
  79.739439249,
  86.455173916,
  104.1616,
  106.486690472,
  109.461534348,
  133.7094,
  134.9014875,
  128.18358125,
  132.002000002,
  145.896941182,
  128.645797751,
  140.759643239,
  127.062999999,
  142.809515302,
  130.530460388,
  141.013787126,
  146.731240381,
  147.288806609,
  191.869000003,
  194.575649773,
  134.618999997,
  153.525088891,
  193.796083326,
  177.073263085,
  171.37634,
  155.88201,
  139.997559991,
  141.447000002,
  152.786999993,
  130.946879997,
  161.191000003,
  142.317000005,
  100.192000005,
  99.905999004,
  92.751792,
  97.799999993,
  78.814015997,
  -26.039997495,
  -60.7389915,
  -107.277784199,
  -135.099,
  -168.607996806,
  -256.535006688,
  -278.4790016,
  -316.932,
  -375.06,
  -322.14,
  -321.715,
  -382.272,
  -454.252,
  -466.028,
  -513.29,
  -501.982,
  -535.34,
  -542.228,
  -438.366,
  -402.72,
  -813.108,
  -771.79,
  -954.74,
  -895.424,
  -839.937,
  -844.225,
  -937.06,
  -934.335,
  -909.145,
  -1019.399999687,
  -988.552,
  -856.836,
  -753.629,
  -436.734,
  -557.999999893,
  -749.319,
  -764.194,
  -720.327,
  -810.436,
  -687.299999853,
  -746.29999984,
  -915.20000002,
  -931.500000196,
  -618.945,
  -1094.39,
  -1164.400000192,
  -1032.999999938,
  -1433.199999967,
  -1326.799999996,
  -1138.678,
  -1084.933,
  -1280.69999986,
  -1187.600000142,
  -1130.751999856,
  -815.852000044,
  -686.4,
  -883.299999933,
  -944.399999835,
  -641.1,
  -1062.700000044,
  -1078.70000011,
  -979.999999903,
  -866.452000153,
  -1008.999999783,
  -718.40005,
  -700.221049923,
  -438.988149969,
  -348.15715,
  -250.78115,
  -217.43915,
  -350.761600000001,
  -400.246450000001,
  -342.701099937,
  -300.6535997568,
  -111.4669498641,
  -180.542949999999,
  -70.4434000000002,
  73.5552500000003,
  316.964799844,
  472.654800000001,
  604.65660007,
  728.356149999998,
  688.255250000001,
  272.354350000001,
  165.755699999999,
  188.55795,
  284.760200000003,
  262.662450000001,
  578.9638,
  421.562000000001,
  377.557950000003,
  201.765682826998,
  310.536502216,
  242.033461904001,
  41.9814018020992,
  132.604148918,
  -21.4604613749999,
  63.9463462420715,
  264.33496492342,
  398.887295473599,
  547.9542940756,
  563.326341591702,
  705.698245452801,
  1263.4633382426,
  1327.888338245,
  1243.90497852497,
  1221.0066917456,
  1068.1799928752,
  771.4449186232,
  746.2224603768,
  670.428936433399,
  850.761995366399,
  906.7039581776,
  902.320701774,
  841.6305345724,
  686.896030584,
  765.537354003,
  701.2262986812,
  445.0059385558,
  657.6690982706,
  370.584905175,
  140.2738339,
  267.101957785,
  107.7190082496,
  259.982293365,
  403.1078177048,
  447.9553546247,
  585.4699901615,
  641.060708486428,
  464.132192031853,
  990.696141151305,
  1281.64125821467,
  1241.22854576671,
  1461.55283108285,
  1533.09245549682,
  933.679451024993,
  734.368579035671,
  825.384396395003,
  530.710952463894,
  675.057747267655,
  762.531468053165,
  502.887612386754,
  447.770720566471,
  254.018103200937,
  -85.5459826832507,
  -266.445750030216,
  -137.42346296421,
  -252.811694395757,
  -473.032265744042,
  -1020.04315997205,
  -3467.42187075879,
  -6204.44511603491,
  -6706.29362139031,
  -8064.87509263511,
  -9131.69497818103,
  -10153.0531072899,
  -8740.73054600148,
  -10390.1676995245,
  -9751.10533268751,
  -10984.6917127237,
  -10650.0393951279,
  -10973.8330764314,
  -10389.7559159836,
  -11133.9911394392,
  -10738.3075379087,
  -11109.40156002,
  -11074.8772055787,
  -10435.2192155147,
  -9743.10564450439,
  -10116.3193196594,
  -9865.89519803276,
  -9446.63755872969,
  -9071.7504828025,
  -8082.7390524604,
  -9095.76727041763,
  -8814.65802094689,
  -8290.8663704397,
  -8685.9447513313,
  -8197.06510924451,
  -9338.76026373175,
  -8819.67966353762,
  -8433.30340869386,
  -8152.40818882398,
  -9642.40389099454,
  -12048.0400465765,
  -15247.7627129772,
  -17118.3701573474,
  -17293.4107512696,
  -17042.74896655,
  -16877.30349372,
  -19905.2983072,
  -19668.21181874,
  -19719.22565957,
  -19430.1680135,
  -19074.59576586,
  -19510.40697853,
  -20910.80217134,
  -20918.00047962,
  -20984.2506449,
  -20569.9179908,
  -22084.0769025916,
  -21991.6003406795,
  -22136.1413606362,
  -23341.868128545,
  -23741.2908755049,
  -23624.7399767436,
  -24304.968867435,
  -25948.3969867119,
  -26546.9720750145,
  -26635.1957527773,
  -26585.694880139,
  -26301.8954652445,
  -27600.5886988668,
  -28092.5817927918,
  -27957.2411203228,
  -30971.1687541715,
  -32138.2210322188,
  -33650.380157841,
  -33672.6254143737,
  -34066.8140178465,
  -33327.0671019811,
  -32594.7905791808,
  -32659.6346538483,
  -32241.2614270781,
  -33330.9727574141,
  -32893.5225383548,
  -33281.7497050787,
  -32586.3470074337,
  -31925.3698343361,
  -31911.6830064176,
  -32088.1707787381,
  -33220.1314969522,
  -34621.3477803065,
  -34868.7624906562,
  -35137.5706862027,
  -35594.2207563474,
  -35791.81814,
  -36474.68569,
  -35973.8134,
  -36344.59043,
  -36433.54932,
  -36580.82132,
  -36435.07543,
  -37139.28912,
  -35794.85858,
  -36148.92379,
  -36717.88666,
  -37059.66185,
  -36261.5733,
  -38081.084,
  -35120.31582,
  -34772.249,
  -34969.88367,
  -33050.68955,
  -33955.9022,
  -34223.22349,
  -33842.4968,
  -34325.7817999999,
  -33589.79685,
  -32533.47812,
  -29069.36616,
  -29264.31986,
  -28606.61725,
  -29499.18372,
  -28895.60063,
  -28048.44,
  -28365.30176,
  -29380.941,
  -29734.55847,
  -32142.3485,
  -30022.3298,
  -29629.89288,
  -29581.86886,
  -29516.7252,
  -28554.31992,
  -28562.25775,
  -29069.08475,
  -29177.6966,
  -29850.49334,
  -29373.2346,
  -28834.4522,
  -29124.05136,
  -29165.08186,
  -30476.46649,
  -30678.39647,
  -29186.0144,
  -30380.68228,
  -29493.33494,
  -30577.47929,
  -29432.70319,
  -31024.98266,
  -32059.952,
  -33033.21386,
  -32216.7934,
  -31004.3712,
  ];
  
  var data_3 = [
  14.862504855,
  15.91715534,
  14.729776699,
  13.876261681,
  17.597713043,
  18.936,
  16.808404762,
  13.516633588,
  -4.82315862,
  -31.0212875,
  -45.4382875,
  -56.57,
  -68.1801,
  -87.005876406,
  -100.702448644,
  -151.086000007,
  -186.059525509,
  -238.728074273,
  -243.47813367,
  -291.094413454,
  -304.407820772,
  -260.52300001,
  -240.510709673,
  -216.682000009,
  -250.385745399,
  -143.526606486,
  -253.628216511,
  -304.805114018,
  -348.190403686,
  -329.988000007,
  -373.852000108,
  -256.428999993,
  -200.183401162,
  -277.877000013,
  -189.734000003,
  -222.518009589,
  -219.719999994,
  -196.0971616,
  -140.200000015,
  -202.324995206,
  -217.28600001,
  -262.914010091,
  -252.581957001,
  -279.974002493,
  -297.22401119,
  -303.887008793,
  -308.691010398,
  -306.115,
  -470.758,
  -365.697,
  -443.978,
  -338.079,
  -390.329,
  -342.653,
  -316.697,
  -392.177,
  -519.758,
  -561.696,
  -615.479,
  -678.413,
  -711.169,
  -778.118,
  -732.718,
  -847.703,
  -966.288,
  -1003.293,
  -1102.841,
  -1109.318,
  -1158.553,
  -1259.89299994,
  -1318.417,
  -1410.641,
  -1338.113,
  -1490.434,
  -1386.4929789,
  -1404.609,
  -1545.727,
  -1658.116,
  -1679.476,
  -1751.393000035,
  -1707.892999973,
  -1755.593000001,
  -1983.392999919,
  -1870.133,
  -1924.498,
  -1833.393000011,
  -1822.093000003,
  -1785.292999998,
  -2043.492999987,
  -2176.471,
  -2241.962,
  -2406.693000016,
  -2402.993000013,
  -2240.793000004,
  -2266.393000005,
  -2135.793,
  -2278.99299999,
  -2180.492999989,
  -2276.493,
  -2278.392999999,
  -2271.093000002,
  -2325.093000018,
  -2301.093000011,
  -2151.892999984,
  -2180.493,
  -2265.593000005,
  -2229.792999999,
  -2288.193,
  -2149.93491882,
  -2135.33491882,
  -1877.30193888,
  -1086.13279846,
  -993.3317382714,
  -1084.60193904,
  -1046.9029991337,
  -1133.50299906,
  -979.370019120002,
  -823.571079300001,
  -330.338099364,
  -482.338099359999,
  -383.996019176,
  -206.663039179998,
  -315.597079300001,
  -325.53111942,
  -349.580059239999,
  -257.194958940001,
  -104.159858640001,
  0.175241659999301,
  -9.62369815999932,
  -158.8917784,
  -37.8949589400008,
  262.997308233,
  286.163497784001,
  218.966538095998,
  158.7935981979,
  -28.7881486649999,
  -104.888538565,
  95.9193823663982,
  114.526378295699,
  135.110704526398,
  87.796705924402,
  46.0059384082999,
  48.3945145471998,
  89.7996017573996,
  -169.475338245,
  -141.6159781342,
  -334.817691745598,
  -252.4299928752,
  -100.3319187582,
  -161.207460376801,
  -229.1399364334,
  -363.441995366401,
  -358.5416181776,
  -153.147421774,
  -264.6663145724,
  -521.298710584,
  -508.012314003,
  -469.5019386812,
  -375.5374785558,
  -410.5320782706,
  -533.073655175,
  -743.5433339,
  -554.158957785,
  -442.2593682496,
  -471.118813365,
  -440.638237704799,
  -460.5187446247,
  -549.8384101615,
  1354.89125941389,
  1355.46920219684,
  1673.08192893961,
  1592.44789293617,
  1852.14319692407,
  1877.02202760762,
  1807.44822488521,
  1445.98314307746,
  1634.71110877875,
  1834.71055539701,
  2060.77487338715,
  1985.41288595237,
  1881.22456411918,
  1746.44398339634,
  2323.82488110222,
  1969.65930372602,
  1053.27071652384,
  1241.45794435743,
  1533.74947185183,
  1637.88506528544,
  1565.85228709509,
  1428.39235344752,
  1515.15177512112,
  1429.34158579611,
  1655.29563967498,
  828.175190289632,
  786.555730004682,
  678.134545194033,
  703.856635613011,
  821.832438631828,
  581.190070236572,
  516.579265643664,
  606.656712198644,
  1576.75661896835,
  1960.22732776006,
  1959.48393416411,
  2439.37199514253,
  3286.588,
  3620.19544917163,
  4083.40180987415,
  3970.17971225809,
  4031.81600872226,
  3950.83872515068,
  3806.5176138088,
  3675.89769978415,
  3537.65141678016,
  3716.53077969549,
  3854.85981983206,
  3749.38949941993,
  3943.30170516914,
  3733.09152815456,
  3124.92883903845,
  2988.16711809516,
  2780.50714650338,
  2979.82775907499,
  2107.55688268012,
  1426.38584870735,
  1580.94598190562,
  2951.01583886755,
  3015.36780461927,
  3062.66778969,
  2787.47767355,
  2745.1928408,
  2525.46749014,
  2680.32549082,
  3337.806903,
  3091.72332796,
  3172.25733978,
  3271.24737038,
  2919.1715228,
  3028.9219946,
  3033.4873136,
  3389.99088056768,
  2333.38479109407,
  1830.80147595103,
  1782.79999344949,
  1623.91136589221,
  1951.26871033488,
  1960.14320219084,
  1621.4220063959,
  1952.09511455354,
  2617.78757495242,
  2276.28660797615,
  2109.07200515721,
  2353.46781008659,
  2954.62493341142,
  2206.208652295,
  2770.34481663641,
  2430.16868588573,
  2150.24980711006,
  2133.06419769778,
  2200.09119000638,
  2176.99759148961,
  2291.45301152136,
  2834.42876379929,
  3190.57309132549,
  2604.13600336643,
  3821.54900558117,
  4210.34934138814,
  4575.15315321605,
  5263.50320579189,
  6095.0290106188,
  6236.15438969803,
  6131.3210606375,
  6122.32497551282,
  5463.64832707965,
  6718.64838539205,
  5659.13959112547,
  6104.88682,
  6382.83314,
  6010.3336,
  5731.12489,
  5255.56796,
  4588.68634,
  3717.07938,
  2804.6282,
  2730.95634,
  2468.27073,
  3300.88552,
  4061.21105,
  4227.69612,
  5362.9734,
  5042.34804,
  5442.89372,
  5479.19577,
  6174.73604,
  2936.7974,
  6113.48785,
  4921.0694,
  4585.40604,
  4703.54055,
  4636.06424,
  6011.556,
  6423.27192,
  6585.004,
  5668.13728,
  6068.04024,
  6160.9465,
  6905.88888,
  6481.91636,
  7063.40129,
  7562.90325,
  8370.64515,
  9011.09164,
  10058.46086,
  9837.34408,
  10241.14271,
  9632.4325,
  8395.20307,
  8402.43336,
  9293.02342,
  9040.0083,
  9680.949,
  8888.65659,
  9722.83468,
  8748.96323,
  6983.10199,
  8112.982,
  9574.029,
  8726.24038,
  10259.08799,
  10359.97063,
  9701.20846,
  8445.9386,
  8985.981,
  11634.69365,
  10193.1556,
  
  ];
  
  
  var data_4 = [
  22.131029126,
  21.895572816,
  22.13454369,
  21.224682243,
  21.743965217,
  28.166991666,
  28.679976191,
  29.65129771,
  30.541,
  31.492,
  31.83,
  32.981,
  31.868370582,
  37.820415724,
  40.559735141,
  39.069999997,
  39.463367339,
  38.084663359,
  38.693663359,
  38.747,
  35.868665086,
  95.918999995,
  95.717248842,
  92.637999991,
  119.966143515,
  202.274435188,
  148.466055291,
  125.444886,
  132.898986232,
  133.019000001,
  129.532999992,
  134.103,
  157.005928886,
  120.521999996,
  142.208000005,
  107.785000011,
  122.973,
  135.1958464,
  186.299999991,
  181.8880048,
  185.222,
  181.8309899,
  203.8770341,
  196.3289975,
  187.6299888,
  182.6539912,
  188.9429896,
  179.488,
  181.985,
  181.228,
  158.655,
  158.999,
  152.62,
  153.912,
  170.838,
  176.336,
  162.883,
  128.645,
  129.03,
  131.88,
  134.132,
  137.7,
  105.8,
  108.076,
  113.769,
  110.04,
  128.86,
  151.545,
  132.2,
  180.100000008,
  117.264,
  160.984,
  141.398,
  160.841,
  80.6000116,
  71.701,
  74.068,
  99.753,
  83.992,
  81.099999995,
  76.400000011,
  131.399999987,
  136.4,
  79.16,
  79.945,
  2.799999999,
  3.600000001,
  52.90000001,
  53.500000016,
  33.235,
  39.466,
  52.999999991,
  71.299999985,
  93.500000002,
  95.899999988,
  116.4,
  43.8,
  44.899999995,
  9.8,
  10.500000001,
  77.300000015,
  21.299999998,
  16.500000001,
  44.200000005,
  35.6,
  25.3,
  23.700000001,
  24.7,
  11.70708118,
  43.20708118,
  110.90706112,
  901.10720154,
  994.70726173,
  971.50706096,
  1007.40700086,
  988.707000940001,
  1020.10698088,
  1126.2069207,
  1603.106900648,
  1479.40690064,
  1525.006980832,
  1661.90696082,
  1549.1069207,
  1594.80688058,
  1594.35694076,
  1603.30704106,
  1760.90714136,
  1927.50724166,
  1921.50730184,
  1777.5072216,
  1881.50704106,
  2208.899308233,
  2205.847497784,
  2182.950538096,
  2173.1445981979,
  1960.571851435,
  1906.923461385,
  2096.1323823664,
  2110.1193782957,
  2136.7367045264,
  2147.8437059244,
  2035.9247884083,
  2085.1081945472,
  2125.7531617574,
  1963.455661755,
  2029.9450217098,
  1912.4973082544,
  2029.6430071248,
  2196.3160812578,
  2146.3405396232,
  2088.3270635666,
  1981.5600046336,
  1973.4998418224,
  2055.656178226,
  2006.3373554276,
  1801.872729416,
  1895.889925997,
  1910.7941213188,
  2042.3440814442,
  2009.1045617294,
  1878.133344825,
  1742.9829161,
  1969.637792215,
  2101.3121517504,
  2173.622486635,
  2281.9141622952,
  2240.6605153753,
  2227.9168698385,
  2442.21862607502,
  2366.89825891961,
  2468.37667856796,
  2344.71053231753,
  2699.14200353532,
  2753.42366826167,
  2720.97780665158,
  2410.3886611192,
  2712.86212744144,
  2869.72101228262,
  3132.4146978978,
  3050.60376646224,
  3042.29277548681,
  2845.43197889993,
  3004.26231644388,
  2731.56372974355,
  2494.83744954303,
  2693.64785310825,
  2994.18350178191,
  3210.25645877775,
  3082.42952028145,
  2894.89540062442,
  2989.70967544228,
  2893.51085949809,
  2943.57855197985,
  2089.88251906089,
  2066.39461017606,
  2019.94392068919,
  2007.18463201509,
  2149.50398698422,
  1898.45205632441,
  1817.26523211917,
  1958.88229911359,
  3274.44220434815,
  3667.25661784505,
  3647.5209319072,
  4138.39470526873,
  4992.705,
  5357.67716955898,
  5725.47986164755,
  5560.88789248319,
  5571.98100896896,
  5451.49745957581,
  5301.00313903209,
  5156.66324194348,
  4871.91774775875,
  4979.94689368586,
  5110.96190541096,
  4988.87374521314,
  5163.91486271466,
  4944.26200604045,
  4325.75449104552,
  4198.13356758964,
  3976.9949934313,
  4132.90540613133,
  3192.60202919082,
  2654.49939020863,
  2773.23387394369,
  3669.57407014772,
  3723.45443049066,
  3671.89536489,
  3401.42812145,
  3450.5926264,
  3281.75582584,
  3448.92749623,
  3977.945597,
  3751.43227682,
  3800.02066129,
  3970.21105416,
  3629.42364277,
  3583.6879938,
  3704.1342064,
  4042.3400576568,
  3032.3563198974,
  2532.11222938874,
  2381.23899124165,
  2279.33959849944,
  2630.13723964275,
  2734.5923734309,
  2319.95800819591,
  2579.01116767055,
  3253.93779860435,
  2874.2400081862,
  2575.86000577491,
  2817.91833587137,
  3425.69252089622,
  2693.11883825713,
  3288.74604016453,
  2926.47833154897,
  2688.61143667251,
  2726.70753281021,
  2841.54165531335,
  2835.82613345802,
  3143.05094922442,
  3744.18957674948,
  4078.00813918322,
  4831.40500801766,
  4774.10700787645,
  5184.63828199143,
  5182.0940484568,
  5783.31074951784,
  6615.44629809482,
  6669.30163136671,
  6523.59074243248,
  6508.66797432302,
  5855.25766630637,
  7171.10282047017,
  6420.96248645335,
  7035.0804,
  7252.91882,
  6888.2564,
  6742.54753,
  6741.57428,
  6845.77172,
  6782.94778,
  6706.83744,
  6808.32482,
  7089.99451,
  7249.38107,
  7427.11569,
  7688.35368,
  8089.00368,
  8013.83304,
  8604.30628,
  8697.00991,
  9025.8625,
  8841.93032,
  9033.4867,
  7742.4592,
  7308.50396,
  7469.99633,
  7826.62228,
  8698.83848,
  9147.10962,
  9361.31325,
  8851.96224,
  8949.91874,
  8795.5015,
  9871.22972,
  9650.25144,
  10111.11146,
  10714.306,
  11028.75581,
  11226.53776,
  11897.4069,
  11832.73674,
  12162.42091,
  12470.378,
  12739.99363,
  13069.84171,
  13223.23706,
  13201.4549,
  13540.044,
  14377.33704,
  14075.33538,
  13961.01656,
  12570.50807,
  13838.3145,
  15322.69736,
  14631.66287,
  15615.89103,
  15240.01333,
  14822.06391,
  13676.5142,
  14313.49286,
  16769.37405,
  15416.7634,
  ]

  
  var serie_NAMES = [
    'Cuentas monetarias de las empresas bancarias - Activos Externos Netos de Corto Plazo (millones S/)',
    "Cuentas monetarias de las empresas bancarias - Activos Externos Netos de Largo Plazo (millones S/)",
    "Cuentas monetarias de las empresas bancarias - Activos Internos Netos - Sector Público (Neto) - Gobierno Central (millones S/)",
    "Cuentas monetarias de las empresas bancarias - Activos Internos Netos - Sector Público (Neto) - Gobierno Central - Créditos (millones S/)"

  ];
  var data_test = [data_1,data_2,data_3, data_4];

//====================
//main init          =
//====================

addLabels(myLineChart, label_array);


for (let index = 0; index < serie_NAMES.length; index++) {
  addDataSet(myLineChart, config, data_test[index], serie_NAMES[index]);
}



// addLabels(myLineChart, LABELS_X);
// addDataSet(myLineChart, config, geneData(LABELS_X), ('Data'+randomScalingFactor()));

updateCopy();

